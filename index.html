<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Carrusel Fullscreen CTA</title>

<style>
:root {
  --mint: #5DD3B6;
  --accent: #D61355;
  --dark: #211832;
  --bg: #ffffff;
}

html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  overflow: hidden;
  background: var(--bg);
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

* {
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

/* =========================
   CONTENEDOR
========================= */
.carousel-wrapper {
  width: 100vw;
  overflow: hidden;
}

/* =========================
   CARRUSEL
========================= */
.carousel {
  display: flex;
  gap: 12px;
  padding: 0 12px;
  touch-action: pan-y;
  will-change: transform;
}

.slide {
  min-width: calc(100vw - 24px);
  height: 100svh;
  background: #fff;
  border-radius: 22px;
  overflow: hidden;
  position: relative;
  flex-shrink: 0;
  box-shadow:
    0 10px 40px rgba(93, 211, 182, 0.18),
    0 2px 6px rgba(33, 24, 50, 0.06);
  display: flex;
  align-items: center;
  justify-content: center;
}

.slide img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  background: #fff;
}

/* overlay sutil */
.slide::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(
    to top,
    rgba(33,24,50,0.08),
    transparent 55%
  );
  pointer-events: none;
}

/* =========================
   NUMERACIÃ“N
========================= */
.slide-number {
  position: absolute;
  bottom: 70px;
  right: 18px;
  font-size: 12px;
  letter-spacing: 0.06em;
  color: rgba(33, 24, 50, 0.75);
  background: rgba(255,255,255,0.88);
  backdrop-filter: blur(6px);
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 500;
}

/* =========================
   CTA WHATSAPP
========================= */
.cta {
  position: absolute;
  bottom: 18px;
  left: 50%;
  transform: translateX(-50%);
  width: calc(100% - 36px);
  padding: 14px 18px;
  border-radius: 14px;
  background: var(--mint);
  color: #fff;
  font-size: 14px;
  font-weight: 600;
  border: none;
  text-align: center;
  cursor: pointer;
  box-shadow:
    0 8px 28px rgba(93, 211, 182, 0.45);
}

.cta:active {
  transform: translateX(-50%) scale(0.97);
}
</style>
</head>

<body>

<section class="carousel-wrapper" id="root">
  <div class="carousel" id="carousel"></div>
</section>

<script>
/* =====================================================
   AGREGA / QUITA IMÃGENES AQUÃ ðŸ‘‡
===================================================== */
const images = [
  "https://i.imgur.com/kmIrUad.png",
  "https://i.imgur.com/snudSiQ.png"
];
/* ===================================================== */

const WHATSAPP = "5618371510";
const carousel = document.getElementById("carousel");
const root = document.getElementById("root");

/* ===== Crear slides ===== */
images.forEach((src, index) => {
  const slide = document.createElement("div");
  slide.className = "slide";

  const img = document.createElement("img");
  img.src = src;
  img.loading = "lazy";

  const number = document.createElement("div");
  number.className = "slide-number";
  const label = `${index + 1}-A`;
  number.textContent = label;

  const cta = document.createElement("button");
  cta.className = "cta";
  cta.textContent = "Me gustÃ³ este y deseo saber el precio";

  cta.onclick = () => {
    const message = encodeURIComponent(
`Hola ðŸ‘‹
Me gustÃ³ el modelo ${label} y deseo saber el precio.

Imagen de referencia:
${src}`
    );

    window.open(
      `https://wa.me/${WHATSAPP}?text=${message}`,
      "_blank"
    );
  };

  slide.appendChild(img);
  slide.appendChild(number);
  slide.appendChild(cta);
  carousel.appendChild(slide);
});

/* =========================
   SWIPE CON INERCIA
========================= */
let isDown = false;
let startX = 0;
let currentX = 0;
let velocity = 0;
let lastX = 0;
let raf;

const clamp = (v, min, max) => Math.max(min, Math.min(max, v));

carousel.addEventListener("pointerdown", e => {
  isDown = true;
  startX = e.clientX - currentX;
  lastX = e.clientX;
  velocity = 0;
  carousel.setPointerCapture(e.pointerId);
  cancelAnimationFrame(raf);
});

carousel.addEventListener("pointermove", e => {
  if (!isDown) return;
  const x = e.clientX;
  velocity = x - lastX;
  lastX = x;
  currentX = x - startX;
  carousel.style.transform = `translateX(${currentX}px)`;
});

carousel.addEventListener("pointerup", () => {
  isDown = false;
  inertia();
});

carousel.addEventListener("pointerleave", () => {
  if (isDown) {
    isDown = false;
    inertia();
  }
});

function inertia() {
  velocity *= 0.92;
  currentX += velocity;

  const maxScroll = 0;
  const minScroll = -(carousel.scrollWidth - window.innerWidth);

  currentX = clamp(currentX, minScroll, maxScroll);
  carousel.style.transform = `translateX(${currentX}px)`;

  sendHeight();

  if (Math.abs(velocity) > 0.5) {
    raf = requestAnimationFrame(inertia);
  }
}

/* =========================
   AUTO ALTURA IFRAME
========================= */
function sendHeight() {
  window.parent.postMessage(
    { type: "carousel-height", height: root.scrollHeight },
    "*"
  );
}

window.addEventListener("load", sendHeight);
window.addEventListener("resize", sendHeight);
</script>

</body>
</html>
